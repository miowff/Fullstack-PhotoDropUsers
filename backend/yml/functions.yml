AuthorizeUser:
  handler: src/lambdas/authorizer.handler

PhotosReceivedDispatcher:
  handler: src/lambdas/photos/photosReceivedDispatcher.handler
  events:
    - sns: photosUploadedAlerts

GetCode:
  handler: src/lambdas/users/getCode.handler
  events:
    - httpApi:
        path: /request-code
        method: POST

LoginOrRegister:
  handler: src/lambdas/users/loginOrRegister.handler
  events:
    - httpApi:
        path: /login-or-register
        method: POST

RefreshToken:
  handler: src/lambdas/users/refreshAccessToken.handler
  events:
    - httpApi:
        path: /refresh-token
        method: POST

GetCurrent:
  handler: src/lambdas/users/getCurrentUser.handler
  events:
    - httpApi:
        path: /current-user
        method: GET
        authorizer:
          name: usersAuthorizer

UpdateName:
  handler: src/lambdas/users/updateName.handler
  events:
    - httpApi:
        path: /update-name
        method: PUT
        authorizer:
          name: usersAuthorizer

UpdateEmail:
  handler: src/lambdas/users/updateEmail.handler
  events:
    - httpApi:
        path: /update-email
        method: PUT
        authorizer:
          name: usersAuthorizer
